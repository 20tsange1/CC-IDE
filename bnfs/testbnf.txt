<contract> ::= <start>+
;

<start> CC::= ((<user> | <name>) has <discount>.)
;

<user> P7::= <string>
;

<name> ::= <string>
;

<negation> N::= (it is not true that)
;

<discount> S::= <num>% (discount | off)? if <conditional>
;

<conditional_upper> B::= <bracketopen> <conditional> <bracketclose>
;

<bracketopen> ::= [
;

<bracketclose> ::= ]
;

<conditional> ::= <conditional_upper>
| <conditional_and>
| <conditional_or>
| <condition_n>
;

<conditional_and> ::= (<conditional_upper> | <condition_n>) (<and_connect> (<conditional_upper> | <condition_n>))+
;

<and_connect> A::=
and
;

<conditional_or> ::= (<conditional_upper> | <condition_n>) (<or_connect> (<conditional_upper> | <condition_n>))+
;

<or_connect> O::=
or
;

<condition_n> C::= <negation>? (<string>)+
;

<string> ::= /[a-zA-Z]+/
 ;

<num> ::= /[0-9]+/
 ;
